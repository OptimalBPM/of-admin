<div class="local_margins"  options="{ flow : 'column' }">
    <div class="layout_tree col-lg-4">
        <h3 class="nodes-headings">Node tree</h3>
        <bpm-schema-tree
            item-renderer="admin/nodes/node.renderer.html"
            new-node-object-id= "000000010000010001e64bff"
            node-manager="$ctrl"
            expander-position="left"
            tree-options="$ctrl.treeOptions">
        </bpm-schema-tree>
    </div>
    <div class="layout_edit col-lg-5">

        <h3 class="nodes-headings">Edit</h3>
        <!-- The schema editor, maps to the selected_* $scope variables in the controller -->

        <form name="$ctrl.ngform"
              sf-model="$ctrl.selected_data"
              sf-form="$ctrl.selected_form"
              sf-schema="$ctrl.selected_schema"
              sf-options=""
              ng-submit="$ctrl.doSubmit($ctrl.selected_data)"></form>
    </div>

    <div class="layout_history col-lg-3">
        <h3 class="nodes-headings">History</h3>
        <div ng-model="history" ng-repeat="historyItem in $ctrl.history">
            <b>Occurred when:</b> {{historyItem.occurredWhen}}<br/>
            <b>Id:</b> {{ historyItem._id }}<br/>
            <b>User_id:</b> {{historyItem.user_id}}<br/>
            <div ng-if="historyItem.add">
                <p>Node added: </p>
                <div ng-repeat="(key, value)  in historyItem.add">
                    <b>{{key}}</b>: {{value}}<br />
                </div>
            </div>
            <div ng-if="historyItem.remove">
                <p>Node removes: </p>
                <div ng-repeat="(key, value)  in historyItem.remove">
                    <b>{{key}}</b>: {{value}}<br />
                </div>
            </div>
            <div ng-if="historyItem.change">
                <p>Node changed: </p>
                <div ng-repeat="(key, value)  in historyItem.change">
                    <b>{{key}}</b>: {{value}}<br />
                </div>
            </div>

            <br />
            -------------------------------
        </div>

    </div>
</div>
